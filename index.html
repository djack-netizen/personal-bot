<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>OPN Agency \u2014 Multi-Client Ad Dashboard</title>
<link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.7/dist/chart.umd.min.js"></script>
<style>
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
:root{--bg:#0a0a1a;--card:rgba(255,255,255,0.04);--border:rgba(255,255,255,0.08);--text:#e4e4e7;--muted:#a1a1aa;--grad:linear-gradient(135deg,#6366f1,#3b82f6);--grad2:linear-gradient(135deg,#6366f1,#3b82f6,#00d4ff);--green:#22c55e;--red:#ef4444;--yellow:#eab308;--radius:16px;--pill:999px}
body{font-family:'Plus Jakarta Sans',Inter,system-ui,sans-serif;background:var(--bg);color:var(--text);line-height:1.5;min-height:100vh}
.fade-in{animation:fadeIn .5s ease}
@keyframes fadeIn{from{opacity:0;transform:translateY(8px)}to{opacity:1;transform:translateY(0)}}
.container{max-width:1400px;margin:0 auto;padding:32px 24px}
.title-area{margin-bottom:36px;text-align:center}
.title-area h1{font-size:clamp(1.5rem,4vw,2.2rem);font-weight:800;letter-spacing:-.03em;margin-bottom:4px}
.title-area .powered{color:var(--muted);font-size:.88rem;margin-bottom:14px}
.social-pills{display:flex;gap:10px;justify-content:center;margin-bottom:12px}
.social-pill{display:inline-flex;align-items:center;gap:6px;border-radius:var(--pill);padding:5px 14px;font-size:.78rem;font-weight:600;border:1px solid transparent;background-origin:border-box;background-clip:padding-box,border-box;background-image:linear-gradient(var(--bg),var(--bg)),var(--grad2);color:var(--text);text-decoration:none;transition:all .25s}
.social-pill:hover{box-shadow:0 0 12px rgba(99,102,241,.3);transform:translateY(-1px)}
.social-pill svg{width:14px;height:14px;fill:currentColor}
.period-badge{display:inline-block;border-radius:var(--pill);padding:4px 14px;font-size:.75rem;color:var(--muted);border:1px solid var(--border);background:var(--card)}
.date-pills{display:flex;gap:8px}
.date-pill{border-radius:var(--pill);padding:6px 18px;font-size:.82rem;font-weight:600;cursor:pointer;border:1px solid var(--border);background:transparent;color:var(--muted);transition:all .25s}
.date-pill:hover{border-color:rgba(99,102,241,.4);color:var(--text)}
.date-pill.active{background:var(--grad);border-color:transparent;color:#fff;box-shadow:0 0 16px rgba(99,102,241,.35)}
.acct-tabs{display:flex;gap:8px;justify-content:center;flex-wrap:wrap;margin-top:12px}
.acct-tab{border-radius:var(--pill);padding:6px 18px;font-size:.82rem;font-weight:600;cursor:pointer;border:2px solid var(--border);background:transparent;color:var(--muted);transition:all .25s}
.acct-tab:hover{border-color:rgba(99,102,241,.4);color:var(--text)}
.acct-tab.active{border-color:var(--tab-color,#6366f1);color:#fff;background:rgba(255,255,255,0.06);box-shadow:0 0 12px rgba(99,102,241,.2)}
.kpi-row{display:grid;grid-template-columns:repeat(6,1fr);gap:16px;margin-bottom:36px}
.kpi-card{background:var(--card);border:1px solid var(--border);border-radius:var(--radius);backdrop-filter:blur(10px);padding:22px 20px;transition:all .3s;position:relative;overflow:hidden}
.kpi-card::before{content:'';position:absolute;inset:0;border-radius:var(--radius);opacity:0;transition:opacity .3s;background:linear-gradient(135deg,rgba(99,102,241,.08),rgba(59,130,246,.06))}
.kpi-card:hover{transform:translateY(-3px);border-color:rgba(99,102,241,.25);box-shadow:0 8px 32px rgba(99,102,241,.12)}
.kpi-card:hover::before{opacity:1}
.kpi-label{font-size:.75rem;color:var(--muted);text-transform:uppercase;letter-spacing:.06em;font-weight:600;margin-bottom:8px}
.kpi-value{font-size:1.55rem;font-weight:800;letter-spacing:-.02em;margin-bottom:2px}
.section-title{font-size:1.15rem;font-weight:700;margin-bottom:16px}
.table-wrap{background:var(--card);border:1px solid var(--border);border-radius:var(--radius);backdrop-filter:blur(10px);overflow-x:auto;margin-bottom:36px}
table{width:100%;border-collapse:collapse;min-width:700px}
th{text-align:left;padding:14px 16px;font-size:.7rem;color:var(--muted);text-transform:uppercase;letter-spacing:.08em;font-weight:600;border-bottom:1px solid var(--border)}
td{padding:14px 16px;font-size:.88rem;border-bottom:1px solid rgba(255,255,255,0.03)}
tr:last-child td{border-bottom:none}
tr:hover td{background:rgba(255,255,255,0.02)}
.chart-area{background:var(--card);border:1px solid var(--border);border-radius:var(--radius);backdrop-filter:blur(10px);padding:24px;margin-bottom:36px}
.chart-title{font-size:1rem;font-weight:700;margin-bottom:16px}
.chart-grid-row{display:grid;grid-template-columns:1fr 1fr;gap:24px;margin-bottom:36px}
.acct-color-dot{display:inline-block;width:10px;height:10px;border-radius:50%;margin-right:6px}
.footer{text-align:center;padding:24px;color:var(--muted);font-size:.8rem;border-top:1px solid var(--border)}
.footer strong{color:var(--text);font-weight:700}
.data-container{transition:opacity .3s}
.data-container.switching{opacity:0}
@media(max-width:900px){.kpi-row{grid-template-columns:repeat(3,1fr)}.chart-grid-row{grid-template-columns:1fr}}
@media(max-width:600px){.kpi-row{grid-template-columns:1fr 1fr}.container{padding:20px 14px}.title-area h1{font-size:1.4rem}}
@media print{body{background:#fff;color:#111}.kpi-card,.table-wrap,.chart-area{background:#f8f8f8;border:1px solid #ddd;backdrop-filter:none;color:#111}.kpi-value,.section-title,.chart-title{color:#111}.kpi-label,.footer{color:#555}}
</style>
</head>
<body>
<div class="container">
  <div class="title-area fade-in">
    <h1>OPN Agency &#8212; Paid Ad Dashboard</h1>
    <div class="powered">Powered by <strong>OPN Agency</strong> &#183; 5 Ad Accounts</div>
    <div class="social-pills"><a href="#" class="social-pill"><svg viewBox="0 0 24 24"><path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/></svg>Meta Ads</a></div>
    <div style="display:flex;align-items:center;gap:10px;flex-wrap:wrap;margin-top:4px;justify-content:center">
      <div class="period-badge" id="periodBadge"></div>
      <div class="date-pills">
        <div class="date-pill active" onclick="setRange(7)">7 Days</div>
        <div class="date-pill" onclick="setRange(30)">30 Days</div>
      </div>
    </div>
    <div class="acct-tabs" id="acctTabs">
      <div class="acct-tab active" style="--tab-color:#fff" onclick="setAcct('all')">All Accounts</div>
      <div class="acct-tab" style="--tab-color:#f97316" onclick="setAcct('ARP/Royal')"><span class="acct-color-dot" style="background:#f97316"></span>ARP/Royal</div>
      <div class="acct-tab" style="--tab-color:#6366f1" onclick="setAcct('Sonesta')"><span class="acct-color-dot" style="background:#6366f1"></span>Sonesta</div>
      <div class="acct-tab" style="--tab-color:#22c55e" onclick="setAcct('SAX')"><span class="acct-color-dot" style="background:#22c55e"></span>SAX</div>
      <div class="acct-tab" style="--tab-color:#ec4899" onclick="setAcct('Mercy Me')"><span class="acct-color-dot" style="background:#ec4899"></span>Mercy Me</div>
      <div class="acct-tab" style="--tab-color:#eab308" onclick="setAcct('DIAMO B2B')"><span class="acct-color-dot" style="background:#eab308"></span>DIAMO B2B</div>
    </div>
  </div>
  <div class="data-container" id="dataContainer">
    <div class="kpi-row fade-in" id="kpiRow"></div>
    <div class="section-title fade-in">Campaign Performance <span style="font-size:.75rem;color:var(--muted);font-weight:400">(30 Days)</span></div>
    <div class="table-wrap fade-in"><table><thead><tr><th>Campaign</th><th>Account</th><th>Spend</th><th>Impressions</th><th>Clicks</th><th>CTR</th><th>CPC</th></tr></thead><tbody id="campaignBody"></tbody></table></div>
    <div class="chart-grid-row fade-in">
      <div class="chart-area"><div class="chart-title">Daily Ad Spend (All Accounts)</div><canvas id="spendChart" height="260"></canvas></div>
      <div class="chart-area"><div class="chart-title">Impressions vs Clicks</div><canvas id="impClickChart" height="260"></canvas></div>
    </div>
  </div>
</div>
<div class="footer">Dashboard generated by <strong>OPN Agency</strong> &#183; Data from Meta Ads API &#183; Last updated: 2026-02-25 05:24:00 UTC</div>
<script>

const ACCT_CONFIGS = [{"short": "ARP/Royal", "color": "#f97316"}, {"short": "Sonesta", "color": "#6366f1"}, {"short": "SAX", "color": "#22c55e"}, {"short": "Mercy Me", "color": "#ec4899"}, {"short": "DIAMO B2B", "color": "#eab308"}];
const DAILY_BY_ACCT = {"ARP/Royal": [{"d": "Jan 26", "spend": 26.59, "imp": 4580, "clicks": 316}, {"d": "Jan 27", "spend": 26.56, "imp": 4213, "clicks": 325}, {"d": "Jan 28", "spend": 25.54, "imp": 3904, "clicks": 269}, {"d": "Jan 29", "spend": 25.43, "imp": 3747, "clicks": 256}, {"d": "Jan 30", "spend": 25.83, "imp": 4202, "clicks": 286}, {"d": "Jan 31", "spend": 25.14, "imp": 4415, "clicks": 292}, {"d": "Feb 1", "spend": 28.32, "imp": 5072, "clicks": 319}, {"d": "Feb 2", "spend": 43.42, "imp": 7680, "clicks": 509}, {"d": "Feb 3", "spend": 45.19, "imp": 7508, "clicks": 526}, {"d": "Feb 4", "spend": 43.45, "imp": 6841, "clicks": 556}, {"d": "Feb 5", "spend": 59.84, "imp": 8697, "clicks": 666}, {"d": "Feb 6", "spend": 75.1, "imp": 10828, "clicks": 773}, {"d": "Feb 7", "spend": 68.67, "imp": 10116, "clicks": 579}, {"d": "Feb 8", "spend": 70.66, "imp": 9893, "clicks": 584}, {"d": "Feb 9", "spend": 43.13, "imp": 6359, "clicks": 373}, {"d": "Feb 10", "spend": 26.08, "imp": 3798, "clicks": 166}, {"d": "Feb 11", "spend": 24.94, "imp": 3999, "clicks": 161}, {"d": "Feb 12", "spend": 25.35, "imp": 4314, "clicks": 133}, {"d": "Feb 13", "spend": 24.75, "imp": 3880, "clicks": 151}, {"d": "Feb 14", "spend": 22.45, "imp": 3707, "clicks": 131}, {"d": "Feb 15", "spend": 25.89, "imp": 3814, "clicks": 169}, {"d": "Feb 16", "spend": 24.74, "imp": 3779, "clicks": 158}, {"d": "Feb 17", "spend": 22.18, "imp": 3432, "clicks": 160}, {"d": "Feb 18", "spend": 22.6, "imp": 3256, "clicks": 150}, {"d": "Feb 19", "spend": 23.17, "imp": 3468, "clicks": 176}, {"d": "Feb 20", "spend": 21.23, "imp": 3129, "clicks": 171}, {"d": "Feb 21", "spend": 20.86, "imp": 3186, "clicks": 165}, {"d": "Feb 22", "spend": 25.66, "imp": 4093, "clicks": 186}, {"d": "Feb 23", "spend": 19.36, "imp": 3738, "clicks": 150}, {"d": "Feb 24", "spend": 28.31, "imp": 4152, "clicks": 244}], "Sonesta": [{"d": "Jan 26", "spend": 51.81, "imp": 19960, "clicks": 274}, {"d": "Jan 27", "spend": 49.4, "imp": 17961, "clicks": 302}, {"d": "Jan 28", "spend": 49.58, "imp": 16689, "clicks": 238}, {"d": "Jan 29", "spend": 49.17, "imp": 15955, "clicks": 257}, {"d": "Jan 30", "spend": 52.41, "imp": 23102, "clicks": 323}, {"d": "Jan 31", "spend": 46.7, "imp": 24913, "clicks": 341}, {"d": "Feb 1", "spend": 60.03, "imp": 32882, "clicks": 453}, {"d": "Feb 2", "spend": 51.04, "imp": 27783, "clicks": 369}, {"d": "Feb 3", "spend": 49.58, "imp": 27184, "clicks": 335}, {"d": "Feb 4", "spend": 48.17, "imp": 23392, "clicks": 320}, {"d": "Feb 5", "spend": 50.76, "imp": 24724, "clicks": 335}, {"d": "Feb 6", "spend": 48.71, "imp": 23773, "clicks": 302}, {"d": "Feb 7", "spend": 48.67, "imp": 23200, "clicks": 287}, {"d": "Feb 8", "spend": 54.71, "imp": 26870, "clicks": 313}, {"d": "Feb 9", "spend": 53.53, "imp": 24295, "clicks": 333}, {"d": "Feb 10", "spend": 50.42, "imp": 22465, "clicks": 287}, {"d": "Feb 11", "spend": 49.81, "imp": 20670, "clicks": 243}, {"d": "Feb 12", "spend": 49.71, "imp": 19437, "clicks": 248}, {"d": "Feb 13", "spend": 48.28, "imp": 19950, "clicks": 296}, {"d": "Feb 14", "spend": 50.47, "imp": 22352, "clicks": 286}, {"d": "Feb 15", "spend": 52.37, "imp": 24441, "clicks": 289}, {"d": "Feb 16", "spend": 52.13, "imp": 22812, "clicks": 283}, {"d": "Feb 17", "spend": 49.94, "imp": 21804, "clicks": 274}, {"d": "Feb 18", "spend": 48.29, "imp": 19176, "clicks": 222}, {"d": "Feb 19", "spend": 43.7, "imp": 13895, "clicks": 204}, {"d": "Feb 20", "spend": 43.44, "imp": 12207, "clicks": 229}, {"d": "Feb 21", "spend": 39.87, "imp": 10800, "clicks": 157}, {"d": "Feb 22", "spend": 42.15, "imp": 9957, "clicks": 182}, {"d": "Feb 23", "spend": 42.49, "imp": 10689, "clicks": 187}, {"d": "Feb 24", "spend": 47.36, "imp": 13305, "clicks": 203}, {"d": "Feb 25", "spend": 15.02, "imp": 7229, "clicks": 85}], "SAX": [{"d": "Jan 26", "spend": 0.28, "imp": 77, "clicks": 3}, {"d": "Jan 27", "spend": 7.09, "imp": 1154, "clicks": 116}, {"d": "Jan 28", "spend": 5.54, "imp": 961, "clicks": 92}, {"d": "Jan 29", "spend": 4.78, "imp": 827, "clicks": 68}, {"d": "Jan 30", "spend": 5.7, "imp": 1103, "clicks": 110}, {"d": "Jan 31", "spend": 6.38, "imp": 1337, "clicks": 147}, {"d": "Feb 1", "spend": 6.27, "imp": 1518, "clicks": 148}, {"d": "Feb 2", "spend": 5.63, "imp": 1278, "clicks": 157}, {"d": "Feb 3", "spend": 5.62, "imp": 1017, "clicks": 113}, {"d": "Feb 4", "spend": 6.02, "imp": 994, "clicks": 144}, {"d": "Feb 5", "spend": 5.38, "imp": 921, "clicks": 121}, {"d": "Feb 6", "spend": 5.33, "imp": 873, "clicks": 113}, {"d": "Feb 7", "spend": 5.91, "imp": 936, "clicks": 111}, {"d": "Feb 8", "spend": 6.36, "imp": 1213, "clicks": 148}, {"d": "Feb 9", "spend": 5.51, "imp": 1100, "clicks": 117}, {"d": "Feb 10", "spend": 5.29, "imp": 1048, "clicks": 86}, {"d": "Feb 11", "spend": 5.41, "imp": 995, "clicks": 125}, {"d": "Feb 12", "spend": 5.21, "imp": 958, "clicks": 105}, {"d": "Feb 13", "spend": 5.16, "imp": 884, "clicks": 112}, {"d": "Feb 14", "spend": 5.9, "imp": 1074, "clicks": 128}, {"d": "Feb 15", "spend": 5.93, "imp": 1170, "clicks": 129}, {"d": "Feb 16", "spend": 5.49, "imp": 1102, "clicks": 127}, {"d": "Feb 17", "spend": 5.21, "imp": 986, "clicks": 123}, {"d": "Feb 18", "spend": 4.98, "imp": 926, "clicks": 118}, {"d": "Feb 19", "spend": 5.12, "imp": 911, "clicks": 108}, {"d": "Feb 20", "spend": 5.06, "imp": 930, "clicks": 114}, {"d": "Feb 21", "spend": 5.11, "imp": 871, "clicks": 114}, {"d": "Feb 22", "spend": 4.25, "imp": 789, "clicks": 90}], "Mercy Me": [{"d": "Jan 26", "spend": 73.65, "imp": 13587, "clicks": 358}, {"d": "Jan 27", "spend": 69.21, "imp": 11690, "clicks": 325}, {"d": "Jan 28", "spend": 67.94, "imp": 11066, "clicks": 351}, {"d": "Jan 29", "spend": 70.52, "imp": 11449, "clicks": 377}, {"d": "Jan 30", "spend": 67.4, "imp": 10824, "clicks": 310}, {"d": "Jan 31", "spend": 38.58, "imp": 7842, "clicks": 170}, {"d": "Feb 1", "spend": 34.11, "imp": 7583, "clicks": 155}, {"d": "Feb 2", "spend": 30.47, "imp": 6781, "clicks": 142}, {"d": "Feb 3", "spend": 29.87, "imp": 6015, "clicks": 134}, {"d": "Feb 4", "spend": 28.6, "imp": 5491, "clicks": 147}, {"d": "Feb 5", "spend": 30.12, "imp": 6999, "clicks": 138}, {"d": "Feb 6", "spend": 47.73, "imp": 9921, "clicks": 236}, {"d": "Feb 7", "spend": 48.87, "imp": 8964, "clicks": 222}, {"d": "Feb 8", "spend": 55.8, "imp": 10510, "clicks": 249}, {"d": "Feb 9", "spend": 64.58, "imp": 13011, "clicks": 297}, {"d": "Feb 10", "spend": 69.89, "imp": 12233, "clicks": 301}, {"d": "Feb 11", "spend": 65.47, "imp": 11644, "clicks": 428}, {"d": "Feb 12", "spend": 71.1, "imp": 12119, "clicks": 438}, {"d": "Feb 13", "spend": 69.67, "imp": 12622, "clicks": 411}, {"d": "Feb 14", "spend": 44.49, "imp": 8261, "clicks": 269}, {"d": "Feb 15", "spend": 32.24, "imp": 5887, "clicks": 237}, {"d": "Feb 16", "spend": 32.47, "imp": 6084, "clicks": 248}, {"d": "Feb 17", "spend": 27.31, "imp": 5795, "clicks": 185}, {"d": "Feb 18", "spend": 30.14, "imp": 5420, "clicks": 264}, {"d": "Feb 19", "spend": 30.06, "imp": 4803, "clicks": 259}, {"d": "Feb 20", "spend": 28.67, "imp": 4484, "clicks": 217}, {"d": "Feb 21", "spend": 32.74, "imp": 5346, "clicks": 230}, {"d": "Feb 22", "spend": 56.41, "imp": 9329, "clicks": 356}, {"d": "Feb 23", "spend": 63.96, "imp": 10632, "clicks": 388}, {"d": "Feb 24", "spend": 84.93, "imp": 12743, "clicks": 561}, {"d": "Feb 25", "spend": 1.34, "imp": 191, "clicks": 10}], "DIAMO B2B": [{"d": "Jan 26", "spend": 59.09, "imp": 1957, "clicks": 37}, {"d": "Jan 27", "spend": 40.04, "imp": 686, "clicks": 16}, {"d": "Jan 28", "spend": 41.1, "imp": 593, "clicks": 23}, {"d": "Jan 29", "spend": 41.02, "imp": 701, "clicks": 14}, {"d": "Jan 30", "spend": 39.43, "imp": 549, "clicks": 13}, {"d": "Jan 31", "spend": 32.38, "imp": 587, "clicks": 9}, {"d": "Feb 1", "spend": 54.31, "imp": 836, "clicks": 15}, {"d": "Feb 2", "spend": 47.67, "imp": 1537, "clicks": 23}, {"d": "Feb 3", "spend": 46.95, "imp": 846, "clicks": 12}, {"d": "Feb 4", "spend": 37.47, "imp": 710, "clicks": 12}, {"d": "Feb 5", "spend": 40.32, "imp": 753, "clicks": 18}, {"d": "Feb 6", "spend": 93.53, "imp": 1862, "clicks": 34}, {"d": "Feb 7", "spend": 79.78, "imp": 2147, "clicks": 45}, {"d": "Feb 8", "spend": 65.56, "imp": 1971, "clicks": 27}, {"d": "Feb 9", "spend": 68.76, "imp": 2053, "clicks": 35}, {"d": "Feb 10", "spend": 66.52, "imp": 2004, "clicks": 52}, {"d": "Feb 11", "spend": 59.37, "imp": 2064, "clicks": 39}, {"d": "Feb 12", "spend": 55.88, "imp": 1858, "clicks": 29}, {"d": "Feb 13", "spend": 58.6, "imp": 1772, "clicks": 37}, {"d": "Feb 14", "spend": 50.4, "imp": 1993, "clicks": 37}, {"d": "Feb 15", "spend": 68.81, "imp": 2380, "clicks": 46}, {"d": "Feb 16", "spend": 66.8, "imp": 2513, "clicks": 51}, {"d": "Feb 17", "spend": 64.38, "imp": 1463, "clicks": 30}, {"d": "Feb 18", "spend": 60.2, "imp": 1132, "clicks": 27}, {"d": "Feb 19", "spend": 61.62, "imp": 1240, "clicks": 27}, {"d": "Feb 20", "spend": 56.37, "imp": 1481, "clicks": 27}, {"d": "Feb 21", "spend": 45.62, "imp": 1142, "clicks": 22}, {"d": "Feb 22", "spend": 66.87, "imp": 1710, "clicks": 45}, {"d": "Feb 23", "spend": 59.97, "imp": 1619, "clicks": 24}, {"d": "Feb 24", "spend": 57.2, "imp": 1279, "clicks": 41}]};
const KPI_BY_ACCT = {"ARP/Royal": {"7": {"spend": "$160.54", "impressions": "24,933", "reach": "18,618", "clicks": "1,238", "ctr": "4.97%", "cpc": "$0.13"}, "30": {"spend": "$990.44", "impressions": "153,800", "reach": "87,494", "clicks": "9,100", "ctr": "5.92%", "cpc": "$0.11"}}, "Sonesta": {"7": {"spend": "$322.38", "impressions": "97,272", "reach": "80,213", "clicks": "1,470", "ctr": "1.51%", "cpc": "$0.22"}, "30": {"spend": "$1,489.78", "impressions": "623,886", "reach": "371,486", "clicks": "8,458", "ctr": "1.36%", "cpc": "$0.18"}}, "SAX": {"7": {"spend": "$24.52", "impressions": "4,427", "reach": "4,047", "clicks": "544", "ctr": "12.29%", "cpc": "$0.05"}, "30": {"spend": "$149.92", "impressions": "27,953", "reach": "18,023", "clicks": "3,187", "ctr": "11.40%", "cpc": "$0.05"}}, "Mercy Me": {"7": {"spend": "$327.89", "impressions": "52,899", "reach": "34,862", "clicks": "2,281", "ctr": "4.31%", "cpc": "$0.14"}, "30": {"spend": "$1,497.98", "impressions": "269,277", "reach": "131,938", "clicks": "8,409", "ctr": "3.12%", "cpc": "$0.18"}}, "DIAMO B2B": {"7": {"spend": "$407.89", "impressions": "9,604", "reach": "5,535", "clicks": "213", "ctr": "2.22%", "cpc": "$1.91"}, "30": {"spend": "$1,686.06", "impressions": "43,439", "reach": "24,235", "clicks": "867", "ctr": "2.00%", "cpc": "$1.94"}}};
const CAMPS_BY_ACCT = {"ARP/Royal": [{"name": "OPN_RoyalRestaurant_DateNight", "status": "Active", "spend": "$225.19", "imp": "37,079", "clicks": "2,104", "ctr": "5.67%", "cpc": "$0.11"}, {"name": "OPN_Catering Jan-Feb Offer_Static", "status": "Active", "spend": "$197.66", "imp": "29,201", "clicks": "689", "ctr": "2.36%", "cpc": "$0.29"}, {"name": "OPN_PAIDAD_Happy Hour", "status": "Active", "spend": "$149.94", "imp": "23,518", "clicks": "1,536", "ctr": "6.53%", "cpc": "$0.10"}, {"name": "OPN_Vday Pre-Fixe Menu", "status": "Active", "spend": "$140.85", "imp": "22,601", "clicks": "1,737", "ctr": "7.69%", "cpc": "$0.08"}, {"name": "OPN_Music Mondays_Reel_Jan 2", "status": "Active", "spend": "$125.58", "imp": "19,561", "clicks": "1,640", "ctr": "8.38%", "cpc": "$0.08"}, {"name": "OPN_VDay_Reel 1", "status": "Active", "spend": "$75.91", "imp": "9,216", "clicks": "807", "ctr": "8.76%", "cpc": "$0.09"}, {"name": "OPN_Private Events_Reel_Jan 14_Top", "status": "Active", "spend": "$59.68", "imp": "10,545", "clicks": "440", "ctr": "4.17%", "cpc": "$0.14"}, {"name": "OPN_Dinner Focus_Reels", "status": "Active", "spend": "$8.54", "imp": "1,084", "clicks": "71", "ctr": "6.55%", "cpc": "$0.12"}, {"name": "OPN_Cozy Decor_Reel 1", "status": "Active", "spend": "$7.52", "imp": "1,047", "clicks": "78", "ctr": "7.45%", "cpc": "$0.10"}], "Sonesta": [{"name": "iExcel_RoyalSonesta_Businesstripgetaways", "status": "Active", "spend": "$478.93", "imp": "288,815", "clicks": "3,961", "ctr": "1.37%", "cpc": "$0.12"}, {"name": "OPN_Winter Escape_Static_2", "status": "Active", "spend": "$447.69", "imp": "109,938", "clicks": "1,708", "ctr": "1.55%", "cpc": "$0.26"}, {"name": "OPN_Three Nights_Static_1", "status": "Active", "spend": "$321.07", "imp": "95,311", "clicks": "1,371", "ctr": "1.44%", "cpc": "$0.23"}, {"name": "OPN_Winter Suite_Carrousel_1", "status": "Active", "spend": "$242.09", "imp": "129,822", "clicks": "1,418", "ctr": "1.09%", "cpc": "$0.17"}], "SAX": [{"name": "OPN_Sir Sunday_Jan 2026 Campaign", "status": "Active", "spend": "$149.92", "imp": "27,953", "clicks": "3,187", "ctr": "11.40%", "cpc": "$0.05"}], "Mercy Me": [{"name": "iExcel-MercyMe-Brazilian Fusion-Opentable", "status": "Active", "spend": "$601.56", "imp": "114,027", "clicks": "4,475", "ctr": "3.92%", "cpc": "$0.13"}, {"name": "iExcel-MercyMe-SambaNights", "status": "Active", "spend": "$300.87", "imp": "52,505", "clicks": "1,221", "ctr": "2.33%", "cpc": "$0.25"}, {"name": "Mercy Me - Awareness", "status": "Active", "spend": "$210.66", "imp": "36,206", "clicks": "1,077", "ctr": "2.97%", "cpc": "$0.20"}, {"name": "OPN_Galentines Traffic Flyer_1", "status": "Active", "spend": "$154.75", "imp": "26,008", "clicks": "588", "ctr": "2.26%", "cpc": "$0.26"}, {"name": "OPN_Vday Graphic_1", "status": "Active", "spend": "$116.46", "imp": "23,055", "clicks": "486", "ctr": "2.11%", "cpc": "$0.24"}, {"name": "OPN_Brazil Brothers_Wed_Feb", "status": "Active", "spend": "$86.49", "imp": "13,966", "clicks": "364", "ctr": "2.61%", "cpc": "$0.24"}, {"name": "OPN_Dinner Focus_Feb 23", "status": "Active", "spend": "$27.55", "imp": "3,559", "clicks": "202", "ctr": "5.68%", "cpc": "$0.14"}], "DIAMO B2B": [{"name": "Leads_Boutique_Owners_Leads", "status": "Active", "spend": "$524.51", "imp": "17,522", "clicks": "367", "ctr": "2.09%", "cpc": "$1.43"}, {"name": "OPN_Orli_30 second_typeform", "status": "Active", "spend": "$327.54", "imp": "12,858", "clicks": "191", "ctr": "1.49%", "cpc": "$1.71"}, {"name": "OPN_Top Funnel_Leads_Boutique_Owners_Leads_Jan 2026", "status": "Active", "spend": "$299.59", "imp": "5,981", "clicks": "118", "ctr": "1.97%", "cpc": "$2.54"}, {"name": "OPN_Orli_30 second_leadform_lookalike", "status": "Active", "spend": "$297.64", "imp": "5,086", "clicks": "132", "ctr": "2.60%", "cpc": "$2.25"}, {"name": "OPN_IV_Top 3_Leads_Lookalike", "status": "Active", "spend": "$236.78", "imp": "1,992", "clicks": "59", "ctr": "2.96%", "cpc": "$4.01"}]};
const AGG_KPI = {"7": {"spend": "$1,243.22", "impressions": "189,135", "reach": "143,275", "clicks": "5,746", "ctr": "3.04%", "cpc": "$0.22"}, "30": {"spend": "$5,814.18", "impressions": "1,118,355", "reach": "633,176", "clicks": "30,021", "ctr": "2.68%", "cpc": "$0.19"}};
const PERIOD_LABELS = {"7": "Feb 18 – Feb 25, 2026", "30": "Jan 26 – Feb 25, 2026"};

let currentRange = 7;
let currentAcct = 'all';
let spendChart, impClickChart;

function fmt(n){return n.toLocaleString('en-US')}

function setRange(r) {
  if (r === currentRange) return;
  currentRange = r;
  document.querySelectorAll('.date-pill').forEach(p => {
    p.classList.toggle('active', parseInt(p.textContent) === r);
  });
  const dc = document.getElementById('dataContainer');
  dc.classList.add('switching');
  setTimeout(() => { render(); dc.classList.remove('switching'); }, 250);
}

function setAcct(a) {
  if (a === currentAcct) return;
  currentAcct = a;
  document.querySelectorAll('.acct-tab').forEach(t => {
    const ta = t.getAttribute('onclick').match(/'([^']+)'/)[1];
    t.classList.toggle('active', ta === a);
  });
  const dc = document.getElementById('dataContainer');
  dc.classList.add('switching');
  setTimeout(() => { render(); dc.classList.remove('switching'); }, 250);
}

function render() {
  const r = currentRange;
  const a = currentAcct;
  document.getElementById('periodBadge').textContent = PERIOD_LABELS[r] || '';
  let k;
  if (a === 'all') { k = AGG_KPI[r]; }
  else { k = KPI_BY_ACCT[a] && KPI_BY_ACCT[a][r] || {spend:'$0',impressions:'0',reach:'0',clicks:'0',ctr:'0.00%',cpc:'$0.00'}; }
  const kpis = [{label:'Total Spend',value:k.spend},{label:'Impressions',value:k.impressions},{label:'Reach',value:k.reach},{label:'Clicks',value:k.clicks},{label:'CTR',value:k.ctr},{label:'CPC',value:k.cpc}];
  document.getElementById('kpiRow').innerHTML = kpis.map(x => '<div class="kpi-card"><div class="kpi-label">'+x.label+'</div><div class="kpi-value">'+x.value+'</div></div>').join('');
  let camps = [];
  if (a === 'all') { for (const ac of ACCT_CONFIGS) { (CAMPS_BY_ACCT[ac.short]||[]).forEach(c => camps.push(Object.assign({},c,{acct:ac.short,color:ac.color}))); } }
  else { const ac = ACCT_CONFIGS.find(x=>x.short===a); (CAMPS_BY_ACCT[a]||[]).forEach(c => camps.push(Object.assign({},c,{acct:a,color:ac?ac.color:'#6366f1'}))); }
  camps.sort((x,y)=>parseFloat(y.spend.replace(/[$,]/g,''))-parseFloat(x.spend.replace(/[$,]/g,'')));
  document.getElementById('campaignBody').innerHTML = camps.map(c => '<tr><td style="font-weight:600">'+c.name+'</td><td><span class="acct-color-dot" style="background:'+c.color+'"></span>'+c.acct+'</td><td>'+c.spend+'</td><td>'+c.imp+'</td><td>'+c.clicks+'</td><td>'+c.ctr+'</td><td>'+c.cpc+'</td></tr>').join('');
  if(spendChart) spendChart.destroy();
  if(impClickChart) impClickChart.destroy();
  const gridColor = 'rgba(255,255,255,0.06)';
  const tickColor = '#a1a1aa';
  if (a === 'all') {
    const refDaily = DAILY_BY_ACCT[ACCT_CONFIGS[0].short] || [];
    const sliced = refDaily.slice(-r);
    const labels = sliced.map(d=>d.d);
    const spendDatasets = ACCT_CONFIGS.map(ac => { const daily = DAILY_BY_ACCT[ac.short] || []; const s = daily.slice(-r); return {label:ac.short, data:s.map(d=>d.spend), backgroundColor:ac.color+'bb', borderRadius:2, borderSkipped:false}; });
    spendChart = new Chart(document.getElementById('spendChart'), {type:'bar',data:{labels, datasets:spendDatasets},options:{responsive:true,maintainAspectRatio:false,plugins:{legend:{labels:{color:tickColor}}},scales:{x:{stacked:true,ticks:{color:tickColor,font:{size:10},maxRotation:45},grid:{display:false}},y:{stacked:true,ticks:{color:tickColor,callback:v=>'$'+v},grid:{color:gridColor}}}}});
    const impDatasets = ACCT_CONFIGS.map(ac => { const daily = DAILY_BY_ACCT[ac.short] || []; const s = daily.slice(-r); return {label:ac.short, data:s.map(d=>d.imp), borderColor:ac.color, backgroundColor:ac.color+'22', fill:false, tension:.3, pointRadius:1}; });
    impClickChart = new Chart(document.getElementById('impClickChart'), {type:'line',data:{labels, datasets:impDatasets},options:{responsive:true,maintainAspectRatio:false,interaction:{mode:'index',intersect:false},plugins:{legend:{labels:{color:tickColor}}},scales:{x:{ticks:{color:tickColor,font:{size:10},maxRotation:45},grid:{display:false}},y:{ticks:{color:tickColor,callback:v=>fmt(v)},grid:{color:gridColor}}}}});
  } else {
    const daily = DAILY_BY_ACCT[a] || [];
    const sliced = daily.slice(-r);
    const labels = sliced.map(d=>d.d);
    const ac = ACCT_CONFIGS.find(x=>x.short===a);
    const col = ac?ac.color:'#6366f1';
    spendChart = new Chart(document.getElementById('spendChart'), {type:'bar',data:{labels, datasets:[{label:'Spend ($)',data:sliced.map(d=>d.spend),backgroundColor:col+'bb',borderRadius:4,borderSkipped:false}]},options:{responsive:true,maintainAspectRatio:false,plugins:{legend:{display:false}},scales:{x:{ticks:{color:tickColor,font:{size:10},maxRotation:45},grid:{display:false}},y:{ticks:{color:tickColor,callback:v=>'$'+v},grid:{color:gridColor}}}}});
    impClickChart = new Chart(document.getElementById('impClickChart'), {type:'line',data:{labels, datasets:[{label:'Impressions',data:sliced.map(d=>d.imp),borderColor:col,backgroundColor:col+'22',fill:true,tension:.3,yAxisID:'y',pointRadius:1},{label:'Clicks',data:sliced.map(d=>d.clicks),borderColor:'#22c55e',backgroundColor:'rgba(34,197,94,0.1)',fill:true,tension:.3,yAxisID:'y1',pointRadius:1}]},options:{responsive:true,maintainAspectRatio:false,interaction:{mode:'index',intersect:false},plugins:{legend:{labels:{color:tickColor}}},scales:{x:{ticks:{color:tickColor,font:{size:10},maxRotation:45},grid:{display:false}},y:{type:'linear',position:'left',ticks:{color:col,callback:v=>fmt(v)},grid:{color:gridColor},title:{display:true,text:'Impressions',color:col}},y1:{type:'linear',position:'right',ticks:{color:'#22c55e'},grid:{drawOnChartArea:false},title:{display:true,text:'Clicks',color:'#22c55e'}}}}});
  }
}
render();

</script>
</body>
</html>