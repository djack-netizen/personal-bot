<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>OPN Agency \u2014 Multi-Client Ad Dashboard</title>
<link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.7/dist/chart.umd.min.js"></script>
<style>
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
:root{--bg:#0a0a1a;--card:rgba(255,255,255,0.04);--border:rgba(255,255,255,0.08);--text:#e4e4e7;--muted:#a1a1aa;--grad:linear-gradient(135deg,#6366f1,#3b82f6);--grad2:linear-gradient(135deg,#6366f1,#3b82f6,#00d4ff);--green:#22c55e;--red:#ef4444;--yellow:#eab308;--radius:16px;--pill:999px}
body{font-family:'Plus Jakarta Sans',Inter,system-ui,sans-serif;background:var(--bg);color:var(--text);line-height:1.5;min-height:100vh}
.fade-in{animation:fadeIn .5s ease}
@keyframes fadeIn{from{opacity:0;transform:translateY(8px)}to{opacity:1;transform:translateY(0)}}
.container{max-width:1400px;margin:0 auto;padding:32px 24px}
.title-area{margin-bottom:36px;text-align:center}
.title-area h1{font-size:clamp(1.5rem,4vw,2.2rem);font-weight:800;letter-spacing:-.03em;margin-bottom:4px}
.title-area .powered{color:var(--muted);font-size:.88rem;margin-bottom:14px}
.social-pills{display:flex;gap:10px;justify-content:center;margin-bottom:12px}
.social-pill{display:inline-flex;align-items:center;gap:6px;border-radius:var(--pill);padding:5px 14px;font-size:.78rem;font-weight:600;border:1px solid transparent;background-origin:border-box;background-clip:padding-box,border-box;background-image:linear-gradient(var(--bg),var(--bg)),var(--grad2);color:var(--text);text-decoration:none;transition:all .25s}
.social-pill:hover{box-shadow:0 0 12px rgba(99,102,241,.3);transform:translateY(-1px)}
.social-pill svg{width:14px;height:14px;fill:currentColor}
.period-badge{display:inline-block;border-radius:var(--pill);padding:4px 14px;font-size:.75rem;color:var(--muted);border:1px solid var(--border);background:var(--card)}
.date-pills{display:flex;gap:8px}
.date-pill{border-radius:var(--pill);padding:6px 18px;font-size:.82rem;font-weight:600;cursor:pointer;border:1px solid var(--border);background:transparent;color:var(--muted);transition:all .25s}
.date-pill:hover{border-color:rgba(99,102,241,.4);color:var(--text)}
.date-pill.active{background:var(--grad);border-color:transparent;color:#fff;box-shadow:0 0 16px rgba(99,102,241,.35)}
.acct-tabs{display:flex;gap:8px;justify-content:center;flex-wrap:wrap;margin-top:12px}
.acct-tab{border-radius:var(--pill);padding:6px 18px;font-size:.82rem;font-weight:600;cursor:pointer;border:2px solid var(--border);background:transparent;color:var(--muted);transition:all .25s}
.acct-tab:hover{border-color:rgba(99,102,241,.4);color:var(--text)}
.acct-tab.active{border-color:var(--tab-color,#6366f1);color:#fff;background:rgba(255,255,255,0.06);box-shadow:0 0 12px rgba(99,102,241,.2)}
.kpi-row{display:grid;grid-template-columns:repeat(6,1fr);gap:16px;margin-bottom:36px}
.kpi-card{background:var(--card);border:1px solid var(--border);border-radius:var(--radius);backdrop-filter:blur(10px);padding:22px 20px;transition:all .3s;position:relative;overflow:hidden}
.kpi-card::before{content:'';position:absolute;inset:0;border-radius:var(--radius);opacity:0;transition:opacity .3s;background:linear-gradient(135deg,rgba(99,102,241,.08),rgba(59,130,246,.06))}
.kpi-card:hover{transform:translateY(-3px);border-color:rgba(99,102,241,.25);box-shadow:0 8px 32px rgba(99,102,241,.12)}
.kpi-card:hover::before{opacity:1}
.kpi-label{font-size:.75rem;color:var(--muted);text-transform:uppercase;letter-spacing:.06em;font-weight:600;margin-bottom:8px}
.kpi-value{font-size:1.55rem;font-weight:800;letter-spacing:-.02em;margin-bottom:2px}
.section-title{font-size:1.15rem;font-weight:700;margin-bottom:16px}
.table-wrap{background:var(--card);border:1px solid var(--border);border-radius:var(--radius);backdrop-filter:blur(10px);overflow-x:auto;margin-bottom:36px}
table{width:100%;border-collapse:collapse;min-width:700px}
th{text-align:left;padding:14px 16px;font-size:.7rem;color:var(--muted);text-transform:uppercase;letter-spacing:.08em;font-weight:600;border-bottom:1px solid var(--border)}
td{padding:14px 16px;font-size:.88rem;border-bottom:1px solid rgba(255,255,255,0.03)}
tr:last-child td{border-bottom:none}
tr:hover td{background:rgba(255,255,255,0.02)}
.chart-area{background:var(--card);border:1px solid var(--border);border-radius:var(--radius);backdrop-filter:blur(10px);padding:24px;margin-bottom:36px}
.chart-title{font-size:1rem;font-weight:700;margin-bottom:16px}
.chart-grid-row{display:grid;grid-template-columns:1fr 1fr;gap:24px;margin-bottom:36px}
.acct-color-dot{display:inline-block;width:10px;height:10px;border-radius:50%;margin-right:6px}
.footer{text-align:center;padding:24px;color:var(--muted);font-size:.8rem;border-top:1px solid var(--border)}
.footer strong{color:var(--text);font-weight:700}
.data-container{transition:opacity .3s}
.data-container.switching{opacity:0}
@media(max-width:900px){.kpi-row{grid-template-columns:repeat(3,1fr)}.chart-grid-row{grid-template-columns:1fr}}
@media(max-width:600px){.kpi-row{grid-template-columns:1fr 1fr}.container{padding:20px 14px}.title-area h1{font-size:1.4rem}}
@media print{body{background:#fff;color:#111}.kpi-card,.table-wrap,.chart-area{background:#f8f8f8;border:1px solid #ddd;backdrop-filter:none;color:#111}.kpi-value,.section-title,.chart-title{color:#111}.kpi-label,.footer{color:#555}}
</style>
</head>
<body>
<div class="container">
  <div class="title-area fade-in">
    <h1>OPN Agency &#8212; Paid Ad Dashboard</h1>
    <div class="powered">Powered by <strong>OPN Agency</strong> &#183; 5 Ad Accounts</div>
    <div class="social-pills"><a href="#" class="social-pill"><svg viewBox="0 0 24 24"><path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/></svg>Meta Ads</a></div>
    <div style="display:flex;align-items:center;gap:10px;flex-wrap:wrap;margin-top:4px;justify-content:center">
      <div class="period-badge" id="periodBadge"></div>
      <div class="date-pills">
        <div class="date-pill active" onclick="setRange(7)">7 Days</div>
        <div class="date-pill" onclick="setRange(30)">30 Days</div>
      </div>
    </div>
    <div class="acct-tabs" id="acctTabs">
      <div class="acct-tab active" style="--tab-color:#fff" onclick="setAcct('all')">All Accounts</div>
      <div class="acct-tab" style="--tab-color:#f97316" onclick="setAcct('ARP/Royal')"><span class="acct-color-dot" style="background:#f97316"></span>ARP/Royal</div>
      <div class="acct-tab" style="--tab-color:#6366f1" onclick="setAcct('Sonesta')"><span class="acct-color-dot" style="background:#6366f1"></span>Sonesta</div>
      <div class="acct-tab" style="--tab-color:#22c55e" onclick="setAcct('SAX')"><span class="acct-color-dot" style="background:#22c55e"></span>SAX</div>
      <div class="acct-tab" style="--tab-color:#ec4899" onclick="setAcct('Mercy Me')"><span class="acct-color-dot" style="background:#ec4899"></span>Mercy Me</div>
      <div class="acct-tab" style="--tab-color:#eab308" onclick="setAcct('DIAMO B2B')"><span class="acct-color-dot" style="background:#eab308"></span>DIAMO B2B</div>
    </div>
  </div>
  <div class="data-container" id="dataContainer">
    <div class="kpi-row fade-in" id="kpiRow"></div>
    <div class="section-title fade-in">Campaign Performance <span style="font-size:.75rem;color:var(--muted);font-weight:400">(30 Days)</span></div>
    <div class="table-wrap fade-in"><table><thead><tr><th>Campaign</th><th>Account</th><th>Spend</th><th>Impressions</th><th>Clicks</th><th>CTR</th><th>CPC</th></tr></thead><tbody id="campaignBody"></tbody></table></div>
    <div class="chart-grid-row fade-in">
      <div class="chart-area"><div class="chart-title">Daily Ad Spend (All Accounts)</div><canvas id="spendChart" height="260"></canvas></div>
      <div class="chart-area"><div class="chart-title">Impressions vs Clicks</div><canvas id="impClickChart" height="260"></canvas></div>
    </div>
  </div>
</div>
<div class="footer">Dashboard generated by <strong>OPN Agency</strong> &#183; Data from Meta Ads API &#183; Last updated: 2026-02-25 05:24:00 UTC</div>
<script>

const ACCT_CONFIGS = [{"id":"act_10153753733980167","name":"ARP / Royal Restaurant","color":"#e74c3c"},{"id":"act_7210159085728033","name":"Sonesta","color":"#3498db"},{"id":"act_265382959435127","name":"SAX","color":"#2ecc71"},{"id":"act_269770309012859","name":"Mercy Me","color":"#9b59b6"},{"id":"act_1423348345499145","name":"DIAMO B2B","color":"#f39c12"}];
const DAILY_BY_ACCT = {"act_10153753733980167":[{"date":"2026-01-26","spend":26.59,"impressions":4580,"clicks":316,"reach":4545},{"date":"2026-01-27","spend":26.56,"impressions":4213,"clicks":325,"reach":4040},{"date":"2026-01-28","spend":25.54,"impressions":3904,"clicks":269,"reach":3741},{"date":"2026-01-29","spend":25.43,"impressions":3747,"clicks":256,"reach":3601},{"date":"2026-01-30","spend":25.83,"impressions":4202,"clicks":286,"reach":3972},{"date":"2026-01-31","spend":25.14,"impressions":4415,"clicks":292,"reach":4178},{"date":"2026-02-01","spend":28.32,"impressions":5072,"clicks":319,"reach":4693},{"date":"2026-02-02","spend":43.42,"impressions":7680,"clicks":509,"reach":7032},{"date":"2026-02-03","spend":45.19,"impressions":7508,"clicks":526,"reach":6823},{"date":"2026-02-04","spend":43.45,"impressions":6841,"clicks":556,"reach":6469},{"date":"2026-02-05","spend":59.84,"impressions":8697,"clicks":666,"reach":7996},{"date":"2026-02-06","spend":75.1,"impressions":10828,"clicks":773,"reach":9742},{"date":"2026-02-07","spend":68.67,"impressions":10116,"clicks":579,"reach":9251},{"date":"2026-02-08","spend":70.66,"impressions":9893,"clicks":584,"reach":9028},{"date":"2026-02-09","spend":43.13,"impressions":6359,"clicks":373,"reach":5922},{"date":"2026-02-10","spend":26.08,"impressions":3798,"clicks":166,"reach":3414},{"date":"2026-02-11","spend":24.94,"impressions":3999,"clicks":161,"reach":3640},{"date":"2026-02-12","spend":25.35,"impressions":4314,"clicks":133,"reach":3984},{"date":"2026-02-13","spend":24.75,"impressions":3880,"clicks":151,"reach":3501},{"date":"2026-02-14","spend":22.45,"impressions":3707,"clicks":131,"reach":3430},{"date":"2026-02-15","spend":25.89,"impressions":3814,"clicks":169,"reach":3513},{"date":"2026-02-16","spend":24.74,"impressions":3779,"clicks":158,"reach":3592},{"date":"2026-02-17","spend":22.18,"impressions":3432,"clicks":160,"reach":3245},{"date":"2026-02-18","spend":22.6,"impressions":3256,"clicks":150,"reach":3084},{"date":"2026-02-19","spend":23.17,"impressions":3468,"clicks":176,"reach":3337},{"date":"2026-02-20","spend":21.23,"impressions":3129,"clicks":171,"reach":3032},{"date":"2026-02-21","spend":20.86,"impressions":3186,"clicks":165,"reach":2916},{"date":"2026-02-22","spend":25.66,"impressions":4093,"clicks":186,"reach":3882},{"date":"2026-02-23","spend":19.36,"impressions":3738,"clicks":150,"reach":3521},{"date":"2026-02-24","spend":33.85,"impressions":4922,"clicks":283,"reach":4613}],"act_7210159085728033":[{"date":"2026-01-26","spend":51.81,"impressions":19960,"clicks":274,"reach":17914},{"date":"2026-01-27","spend":49.4,"impressions":17961,"clicks":302,"reach":17208},{"date":"2026-01-28","spend":49.58,"impressions":16689,"clicks":238,"reach":15831},{"date":"2026-01-29","spend":49.17,"impressions":15955,"clicks":257,"reach":15233},{"date":"2026-01-30","spend":52.41,"impressions":23102,"clicks":323,"reach":21503},{"date":"2026-01-31","spend":46.7,"impressions":24913,"clicks":341,"reach":22204},{"date":"2026-02-01","spend":60.03,"impressions":32882,"clicks":453,"reach":28334},{"date":"2026-02-02","spend":51.04,"impressions":27783,"clicks":369,"reach":23919},{"date":"2026-02-03","spend":49.58,"impressions":27184,"clicks":335,"reach":23791},{"date":"2026-02-04","spend":48.17,"impressions":23392,"clicks":320,"reach":21041},{"date":"2026-02-05","spend":50.76,"impressions":24724,"clicks":335,"reach":22257},{"date":"2026-02-06","spend":48.71,"impressions":23773,"clicks":302,"reach":21441},{"date":"2026-02-07","spend":48.67,"impressions":23200,"clicks":287,"reach":20813},{"date":"2026-02-08","spend":54.71,"impressions":26870,"clicks":313,"reach":24095},{"date":"2026-02-09","spend":53.53,"impressions":24295,"clicks":333,"reach":21358},{"date":"2026-02-10","spend":50.42,"impressions":22465,"clicks":287,"reach":19941},{"date":"2026-02-11","spend":49.81,"impressions":20670,"clicks":243,"reach":19396},{"date":"2026-02-12","spend":49.71,"impressions":19437,"clicks":248,"reach":17284},{"date":"2026-02-13","spend":48.28,"impressions":19950,"clicks":296,"reach":18289},{"date":"2026-02-14","spend":50.47,"impressions":22352,"clicks":286,"reach":20905},{"date":"2026-02-15","spend":52.37,"impressions":24441,"clicks":289,"reach":21010},{"date":"2026-02-16","spend":52.13,"impressions":22812,"clicks":283,"reach":20313},{"date":"2026-02-17","spend":49.94,"impressions":21804,"clicks":274,"reach":20232},{"date":"2026-02-18","spend":48.29,"impressions":19176,"clicks":222,"reach":17710},{"date":"2026-02-19","spend":43.7,"impressions":13895,"clicks":204,"reach":12214},{"date":"2026-02-20","spend":43.44,"impressions":12207,"clicks":229,"reach":11573},{"date":"2026-02-21","spend":39.87,"impressions":10800,"clicks":157,"reach":9746},{"date":"2026-02-22","spend":42.15,"impressions":9957,"clicks":182,"reach":9162},{"date":"2026-02-23","spend":42.49,"impressions":10689,"clicks":187,"reach":10270},{"date":"2026-02-24","spend":47.5,"impressions":13336,"clicks":205,"reach":12739}],"act_265382959435127":[{"date":"2026-01-26","spend":0.28,"impressions":77,"clicks":3,"reach":73},{"date":"2026-01-27","spend":7.09,"impressions":1154,"clicks":116,"reach":1028},{"date":"2026-01-28","spend":5.54,"impressions":961,"clicks":92,"reach":898},{"date":"2026-01-29","spend":4.78,"impressions":827,"clicks":68,"reach":750},{"date":"2026-01-30","spend":5.7,"impressions":1103,"clicks":110,"reach":1028},{"date":"2026-01-31","spend":6.38,"impressions":1337,"clicks":147,"reach":1249},{"date":"2026-02-01","spend":6.27,"impressions":1518,"clicks":148,"reach":1495},{"date":"2026-02-02","spend":5.63,"impressions":1278,"clicks":157,"reach":1194},{"date":"2026-02-03","spend":5.62,"impressions":1017,"clicks":113,"reach":977},{"date":"2026-02-04","spend":6.02,"impressions":994,"clicks":144,"reach":958},{"date":"2026-02-05","spend":5.38,"impressions":921,"clicks":121,"reach":858},{"date":"2026-02-06","spend":5.33,"impressions":873,"clicks":113,"reach":873},{"date":"2026-02-07","spend":5.91,"impressions":936,"clicks":111,"reach":889},{"date":"2026-02-08","spend":6.36,"impressions":1213,"clicks":148,"reach":1152},{"date":"2026-02-09","spend":5.51,"impressions":1100,"clicks":117,"reach":1098},{"date":"2026-02-10","spend":5.29,"impressions":1048,"clicks":86,"reach":993},{"date":"2026-02-11","spend":5.41,"impressions":995,"clicks":125,"reach":940},{"date":"2026-02-12","spend":5.21,"impressions":958,"clicks":105,"reach":875},{"date":"2026-02-13","spend":5.16,"impressions":884,"clicks":112,"reach":861},{"date":"2026-02-14","spend":5.9,"impressions":1074,"clicks":128,"reach":1001},{"date":"2026-02-15","spend":5.93,"impressions":1170,"clicks":129,"reach":1068},{"date":"2026-02-16","spend":5.49,"impressions":1102,"clicks":127,"reach":1061},{"date":"2026-02-17","spend":5.21,"impressions":986,"clicks":123,"reach":966},{"date":"2026-02-18","spend":4.98,"impressions":926,"clicks":118,"reach":890},{"date":"2026-02-19","spend":5.12,"impressions":911,"clicks":108,"reach":872},{"date":"2026-02-20","spend":5.06,"impressions":930,"clicks":114,"reach":870},{"date":"2026-02-21","spend":5.11,"impressions":871,"clicks":114,"reach":828},{"date":"2026-02-22","spend":4.25,"impressions":789,"clicks":90,"reach":772}],"act_269770309012859":[{"date":"2026-01-26","spend":73.65,"impressions":13587,"clicks":358,"reach":11543},{"date":"2026-01-27","spend":69.21,"impressions":11690,"clicks":325,"reach":10213},{"date":"2026-01-28","spend":67.94,"impressions":11066,"clicks":351,"reach":9526},{"date":"2026-01-29","spend":70.52,"impressions":11449,"clicks":377,"reach":10096},{"date":"2026-01-30","spend":67.4,"impressions":10824,"clicks":310,"reach":9342},{"date":"2026-01-31","spend":38.58,"impressions":7842,"clicks":170,"reach":6423},{"date":"2026-02-01","spend":34.11,"impressions":7583,"clicks":155,"reach":5940},{"date":"2026-02-02","spend":30.47,"impressions":6781,"clicks":142,"reach":5288},{"date":"2026-02-03","spend":29.87,"impressions":6015,"clicks":134,"reach":4839},{"date":"2026-02-04","spend":28.6,"impressions":5491,"clicks":147,"reach":4490},{"date":"2026-02-05","spend":30.12,"impressions":6999,"clicks":138,"reach":6101},{"date":"2026-02-06","spend":47.73,"impressions":9921,"clicks":236,"reach":8110},{"date":"2026-02-07","spend":48.87,"impressions":8964,"clicks":222,"reach":7373},{"date":"2026-02-08","spend":55.8,"impressions":10510,"clicks":249,"reach":8451},{"date":"2026-02-09","spend":64.58,"impressions":13011,"clicks":297,"reach":11048},{"date":"2026-02-10","spend":69.89,"impressions":12233,"clicks":301,"reach":10169},{"date":"2026-02-11","spend":65.47,"impressions":11644,"clicks":428,"reach":9727},{"date":"2026-02-12","spend":71.1,"impressions":12119,"clicks":438,"reach":9588},{"date":"2026-02-13","spend":69.67,"impressions":12622,"clicks":411,"reach":10088},{"date":"2026-02-14","spend":44.49,"impressions":8261,"clicks":269,"reach":7232},{"date":"2026-02-15","spend":32.24,"impressions":5887,"clicks":237,"reach":4741},{"date":"2026-02-16","spend":32.47,"impressions":6084,"clicks":248,"reach":5162},{"date":"2026-02-17","spend":27.31,"impressions":5795,"clicks":185,"reach":5084},{"date":"2026-02-18","spend":30.14,"impressions":5420,"clicks":264,"reach":4897},{"date":"2026-02-19","spend":30.06,"impressions":4803,"clicks":259,"reach":4291},{"date":"2026-02-20","spend":28.67,"impressions":4484,"clicks":217,"reach":4074},{"date":"2026-02-21","spend":32.74,"impressions":5346,"clicks":230,"reach":5002},{"date":"2026-02-22","spend":56.41,"impressions":9329,"clicks":356,"reach":8116},{"date":"2026-02-23","spend":63.96,"impressions":10632,"clicks":388,"reach":9177},{"date":"2026-02-24","spend":84.99,"impressions":12766,"clicks":562,"reach":11296}],"act_1423348345499145":[{"date":"2026-01-26","spend":59.09,"impressions":1957,"clicks":37,"reach":1684},{"date":"2026-01-27","spend":40.04,"impressions":686,"clicks":16,"reach":567},{"date":"2026-01-28","spend":41.1,"impressions":593,"clicks":23,"reach":517},{"date":"2026-01-29","spend":41.02,"impressions":701,"clicks":14,"reach":605},{"date":"2026-01-30","spend":39.43,"impressions":549,"clicks":13,"reach":512},{"date":"2026-01-31","spend":32.38,"impressions":587,"clicks":9,"reach":548},{"date":"2026-02-01","spend":54.31,"impressions":836,"clicks":15,"reach":770},{"date":"2026-02-02","spend":47.67,"impressions":1537,"clicks":23,"reach":1454},{"date":"2026-02-03","spend":46.95,"impressions":846,"clicks":12,"reach":764},{"date":"2026-02-04","spend":37.47,"impressions":710,"clicks":12,"reach":662},{"date":"2026-02-05","spend":40.32,"impressions":753,"clicks":18,"reach":707},{"date":"2026-02-06","spend":93.53,"impressions":1862,"clicks":34,"reach":1702},{"date":"2026-02-07","spend":79.78,"impressions":2147,"clicks":45,"reach":1899},{"date":"2026-02-08","spend":65.56,"impressions":1971,"clicks":27,"reach":1718},{"date":"2026-02-09","spend":68.76,"impressions":2053,"clicks":35,"reach":1784},{"date":"2026-02-10","spend":66.52,"impressions":2004,"clicks":52,"reach":1723},{"date":"2026-02-11","spend":59.37,"impressions":2064,"clicks":39,"reach":1704},{"date":"2026-02-12","spend":55.88,"impressions":1858,"clicks":29,"reach":1565},{"date":"2026-02-13","spend":58.6,"impressions":1772,"clicks":37,"reach":1545},{"date":"2026-02-14","spend":50.4,"impressions":1993,"clicks":37,"reach":1725},{"date":"2026-02-15","spend":68.81,"impressions":2380,"clicks":46,"reach":1949},{"date":"2026-02-16","spend":66.8,"impressions":2513,"clicks":51,"reach":2201},{"date":"2026-02-17","spend":64.38,"impressions":1463,"clicks":30,"reach":1207},{"date":"2026-02-18","spend":60.2,"impressions":1132,"clicks":27,"reach":883},{"date":"2026-02-19","spend":61.62,"impressions":1240,"clicks":27,"reach":979},{"date":"2026-02-20","spend":56.37,"impressions":1481,"clicks":27,"reach":1177},{"date":"2026-02-21","spend":45.62,"impressions":1142,"clicks":22,"reach":982},{"date":"2026-02-22","spend":66.87,"impressions":1710,"clicks":45,"reach":1440},{"date":"2026-02-23","spend":60.14,"impressions":1620,"clicks":24,"reach":1372},{"date":"2026-02-24","spend":60.22,"impressions":1354,"clicks":41,"reach":1081}]};
const KPI_BY_ACCT = {"act_10153753733980167":{"7":{"spend":166.73,"impressions":25792,"clicks":1281,"ctr":4.966656,"cpc":0.130156,"reach":19315,"leads":0,"video_views":2913},"30":{"spend":995.98,"impressions":154570,"clicks":9139,"ctr":5.912532,"cpc":0.108981,"reach":88036,"leads":0,"video_views":38242}},"act_7210159085728033":{"7":{"spend":307.44,"impressions":90060,"clicks":1386,"ctr":1.538974,"cpc":0.221818,"reach":73936,"leads":0,"video_views":6916},"30":{"spend":1474.84,"impressions":616674,"clicks":8374,"ctr":1.35793,"cpc":0.176121,"reach":366024,"leads":0,"video_views":52042}},"act_265382959435127":{"7":{"spend":24.52,"impressions":4427,"clicks":544,"ctr":12.288231,"cpc":0.045074,"reach":4047,"leads":0,"video_views":1996},"30":{"spend":149.92,"impressions":27953,"clicks":3187,"ctr":11.401281,"cpc":0.047041,"reach":18023,"leads":0,"video_views":12937}},"act_269770309012859":{"7":{"spend":326.97,"impressions":52780,"clicks":2276,"ctr":4.312239,"cpc":0.14366,"reach":34800,"leads":0,"video_views":7298},"30":{"spend":1497.06,"impressions":269158,"clicks":8404,"ctr":3.12233,"cpc":0.178137,"reach":131938,"leads":0,"video_views":40116}},"act_1423348345499145":{"7":{"spend":411.04,"impressions":9679,"clicks":213,"ctr":2.200641,"cpc":1.929765,"reach":5577,"leads":15,"video_views":1752},"30":{"spend":1689.21,"impressions":43514,"clicks":867,"ctr":1.992462,"cpc":1.948339,"reach":24256,"leads":74,"video_views":7571}}};
const CAMPS_BY_ACCT = {"act_10153753733980167":{"7":[{"name":"OPN_Catering Jan-Feb Offer_Static","id":"6980676091382","spend":70.28,"impressions":10762,"clicks":276,"ctr":2.564579,"cpc":0.254638,"reach":7412,"leads":0,"video_views":0,"status":"Active"},{"name":"OPN_RoyalRestaurant_DateNight","id":"6863325609182","spend":40.83,"impressions":6251,"clicks":442,"ctr":7.070869,"cpc":0.092376,"reach":5293,"leads":0,"video_views":1905,"status":"Active"},{"name":"OPN_PAIDAD_Happy Hour","id":"6917226822982","spend":35.15,"impressions":6029,"clicks":380,"ctr":6.302869,"cpc":0.0925,"reach":5111,"leads":0,"video_views":0,"status":"Active"},{"name":"OPN_Dinner Focus_Reels","id":"6991904609582","spend":11.15,"impressions":1426,"clicks":86,"ctr":6.030856,"cpc":0.129651,"reach":1370,"leads":0,"video_views":583,"status":"Active"},{"name":"OPN_Cozy Decor_Reel 1","id":"6991897872382","spend":9.32,"impressions":1324,"clicks":97,"ctr":7.326284,"cpc":0.096082,"reach":1288,"leads":0,"video_views":425,"status":"Active"}],"14":[{"name":"OPN_Catering Jan-Feb Offer_Static","id":"6980676091382","spend":140.59,"impressions":20834,"clicks":484,"ctr":2.323126,"cpc":0.290475,"reach":11516,"leads":0,"video_views":0,"status":"Active"},{"name":"OPN_RoyalRestaurant_DateNight","id":"6863325609182","spend":97.27,"impressions":16311,"clicks":914,"ctr":5.60358,"cpc":0.106422,"reach":12446,"leads":0,"video_views":4887,"status":"Active"},{"name":"OPN_PAIDAD_Happy Hour","id":"6917226822982","spend":70.37,"impressions":11290,"clicks":715,"ctr":6.333038,"cpc":0.09842,"reach":8767,"leads":0,"video_views":0,"status":"Active"},{"name":"OPN_Dinner Focus_Reels","id":"6991904609582","spend":11.15,"impressions":1426,"clicks":86,"ctr":6.030856,"cpc":0.129651,"reach":1370,"leads":0,"video_views":583,"status":"Active"},{"name":"OPN_Cozy Decor_Reel 1","id":"6991897872382","spend":9.32,"impressions":1324,"clicks":97,"ctr":7.326284,"cpc":0.096082,"reach":1288,"leads":0,"video_views":425,"status":"Active"},{"name":"OPN_Private Events_Reel_Jan 14_Top","id":"6971168409582","spend":8.33,"impressions":1532,"clicks":48,"ctr":3.133159,"cpc":0.173542,"reach":1351,"leads":0,"video_views":293,"status":"Active"}],"30":[{"name":"OPN_RoyalRestaurant_DateNight","id":"6863325609182","spend":225.19,"impressions":37079,"clicks":2104,"ctr":5.674371,"cpc":0.107029,"reach":24596,"leads":0,"video_views":11574,"status":"Active"},{"name":"OPN_Catering Jan-Feb Offer_Static","id":"6980676091382","spend":198.18,"impressions":29271,"clicks":689,"ctr":2.353866,"cpc":0.287634,"reach":14462,"leads":0,"video_views":4,"status":"Active"},{"name":"OPN_PAIDAD_Happy Hour","id":"6917226822982","spend":150.12,"impressions":23547,"clicks":1539,"ctr":6.535864,"cpc":0.097544,"reach":15566,"leads":0,"video_views":0,"status":"Active"},{"name":"OPN_Vday Pre-Fixe Menu","id":"6978982483182","spend":140.85,"impressions":22601,"clicks":1737,"ctr":7.685501,"cpc":0.081088,"reach":15055,"leads":0,"video_views":9082,"status":"Active"},{"name":"OPN_Music Mondays_Reel_Jan 2","id":"6969176309182","spend":125.58,"impressions":19561,"clicks":1640,"ctr":8.384029,"cpc":0.076573,"reach":14677,"leads":0,"video_views":9731,"status":"Active"},{"name":"OPN_VDay_Reel 1","id":"6980797845182","spend":75.91,"impressions":9216,"clicks":807,"ctr":8.75651,"cpc":0.094064,"reach":7704,"leads":0,"video_views":4504,"status":"Active"},{"name":"OPN_Private Events_Reel_Jan 14_Top","id":"6971168409582","spend":59.68,"impressions":10545,"clicks":440,"ctr":4.172594,"cpc":0.135636,"reach":7883,"leads":0,"video_views":2339,"status":"Active"},{"name":"OPN_Dinner Focus_Reels","id":"6991904609582","spend":11.15,"impressions":1426,"clicks":86,"ctr":6.030856,"cpc":0.129651,"reach":1370,"leads":0,"video_views":583,"status":"Active"},{"name":"OPN_Cozy Decor_Reel 1","id":"6991897872382","spend":9.32,"impressions":1324,"clicks":97,"ctr":7.326284,"cpc":0.096082,"reach":1288,"leads":0,"video_views":425,"status":"Active"}]},"act_7210159085728033":{"7":[{"name":"iExcel_RoyalSonesta_Businesstripgetaways","id":"120229934408880678","spend":110.88,"impressions":32289,"clicks":681,"ctr":2.109077,"cpc":0.162819,"reach":25988,"leads":0,"video_views":6896,"status":"Active"},{"name":"OPN_Winter Escape_Static_2","id":"120237217575830678","spend":104.47,"impressions":26504,"clicks":353,"ctr":1.331874,"cpc":0.295949,"reach":19117,"leads":0,"video_views":0,"status":"Active"},{"name":"OPN_Three Nights_Static_1","id":"120237217779420678","spend":80.11,"impressions":23396,"clicks":286,"ctr":1.222431,"cpc":0.280105,"reach":19850,"leads":0,"video_views":0,"status":"Active"},{"name":"OPN_Winter Suite_Carrousel_1","id":"120237218487160678","spend":11.98,"impressions":7871,"clicks":66,"ctr":0.838521,"cpc":0.181515,"reach":7116,"leads":0,"video_views":20,"status":"Active"}],"14":[{"name":"iExcel_RoyalSonesta_Businesstripgetaways","id":"120229934408880678","spend":222.64,"impressions":114418,"clicks":1651,"ctr":1.442955,"cpc":0.134852,"reach":70970,"leads":0,"video_views":20400,"status":"Active"},{"name":"OPN_Winter Escape_Static_2","id":"120237217575830678","spend":209.95,"impressions":50755,"clicks":724,"ctr":1.42646,"cpc":0.289986,"reach":34213,"leads":0,"video_views":0,"status":"Active"},{"name":"OPN_Three Nights_Static_1","id":"120237217779420678","spend":145.86,"impressions":41981,"clicks":543,"ctr":1.293442,"cpc":0.268619,"reach":34317,"leads":0,"video_views":0,"status":"Active"},{"name":"OPN_Winter Suite_Carrousel_1","id":"120237218487160678","spend":81.7,"impressions":34372,"clicks":387,"ctr":1.125916,"cpc":0.211111,"reach":28582,"leads":0,"video_views":907,"status":"Active"}],"30":[{"name":"iExcel_RoyalSonesta_Businesstripgetaways","id":"120229934408880678","spend":478.88,"impressions":288787,"clicks":3960,"ctr":1.371253,"cpc":0.120929,"reach":133466,"leads":0,"video_views":50791,"status":"Active"},{"name":"OPN_Winter Escape_Static_2","id":"120237217575830678","spend":447.47,"impressions":109897,"clicks":1703,"ctr":1.549633,"cpc":0.262754,"reach":70988,"leads":0,"video_views":0,"status":"Active"},{"name":"OPN_Three Nights_Static_1","id":"120237217779420678","spend":306.4,"impressions":88168,"clicks":1293,"ctr":1.466518,"cpc":0.236968,"reach":69948,"leads":0,"video_views":0,"status":"Active"},{"name":"OPN_Winter Suite_Carrousel_1","id":"120237218487160678","spend":242.09,"impressions":129822,"clicks":1418,"ctr":1.092265,"cpc":0.170726,"reach":100330,"leads":0,"video_views":1251,"status":"Active"}]},"act_265382959435127":{"7":[{"name":"OPN_Sir Sunday_Jan 2026 Campaign","id":"120240086970590515","spend":24.52,"impressions":4427,"clicks":544,"ctr":12.288231,"cpc":0.045074,"reach":4047,"leads":0,"video_views":1996,"status":"Active"}],"14":[{"name":"OPN_Sir Sunday_Jan 2026 Campaign","id":"120240086970590515","spend":62.83,"impressions":11596,"clicks":1393,"ctr":12.012763,"cpc":0.045104,"reach":9656,"leads":0,"video_views":5095,"status":"Active"}],"30":[{"name":"OPN_Sir Sunday_Jan 2026 Campaign","id":"120240086970590515","spend":149.92,"impressions":27953,"clicks":3187,"ctr":11.401281,"cpc":0.047041,"reach":18023,"leads":0,"video_views":12937,"status":"Active"}]},"act_269770309012859":{"7":[{"name":"iExcel-MercyMe-Brazilian Fusion-Opentable","id":"120229536144980408","spend":143.79,"impressions":24098,"clicks":1301,"ctr":5.398788,"cpc":0.110523,"reach":17041,"leads":0,"video_views":3843,"status":"Active"},{"name":"OPN_Brazil Brothers_Wed_Feb","id":"120238947059620408","spend":86.07,"impressions":13902,"clicks":364,"ctr":2.618328,"cpc":0.236456,"reach":9473,"leads":0,"video_views":9,"status":"Active"},{"name":"iExcel-MercyMe-SambaNights","id":"120231416008300408","spend":70.02,"impressions":11266,"clicks":413,"ctr":3.665897,"cpc":0.16954,"reach":8747,"leads":0,"video_views":2212,"status":"Active"},{"name":"OPN_Dinner Focus_Feb 23","id":"120239060302450408","spend":27.09,"impressions":3514,"clicks":198,"ctr":5.634604,"cpc":0.136818,"reach":3063,"leads":0,"video_views":1234,"status":"Active"}],"14":[{"name":"iExcel-MercyMe-Brazilian Fusion-Opentable","id":"120229536144980408","spend":281.09,"impressions":50135,"clicks":2752,"ctr":5.489179,"cpc":0.10214,"reach":28775,"leads":0,"video_views":8168,"status":"Active"},{"name":"iExcel-MercyMe-SambaNights","id":"120231416008300408","spend":140.74,"impressions":24890,"clicks":680,"ctr":2.732021,"cpc":0.206971,"reach":15231,"leads":0,"video_views":5723,"status":"Active"},{"name":"OPN_Galentines Traffic Flyer_1","id":"120238534322250408","spend":120.85,"impressions":19940,"clicks":444,"ctr":2.22668,"cpc":0.272185,"reach":13791,"leads":0,"video_views":2509,"status":"Active"},{"name":"OPN_Brazil Brothers_Wed_Feb","id":"120238947059620408","spend":86.07,"impressions":13902,"clicks":364,"ctr":2.618328,"cpc":0.236456,"reach":9473,"leads":0,"video_views":9,"status":"Active"},{"name":"OPN_Dinner Focus_Feb 23","id":"120239060302450408","spend":27.09,"impressions":3514,"clicks":198,"ctr":5.634604,"cpc":0.136818,"reach":3063,"leads":0,"video_views":1234,"status":"Active"},{"name":"OPN_Vday Graphic_1","id":"120238418295470408","spend":13.88,"impressions":2811,"clicks":54,"ctr":1.921025,"cpc":0.257037,"reach":2351,"leads":0,"video_views":9,"status":"Active"}],"30":[{"name":"iExcel-MercyMe-Brazilian Fusion-Opentable","id":"120229536144980408","spend":601.32,"impressions":113990,"clicks":4471,"ctr":3.922274,"cpc":0.134493,"reach":62637,"leads":0,"video_views":14702,"status":"Active"},{"name":"iExcel-MercyMe-SambaNights","id":"120231416008300408","spend":300.71,"impressions":52483,"clicks":1220,"ctr":2.324562,"cpc":0.246484,"reach":26493,"leads":0,"video_views":15913,"status":"Active"},{"name":"Mercy Me - Awareness","id":"120237817092790408","spend":210.66,"impressions":36206,"clicks":1077,"ctr":2.974645,"cpc":0.195599,"reach":24078,"leads":0,"video_views":3259,"status":"Active"},{"name":"OPN_Galentines Traffic Flyer_1","id":"120238534322250408","spend":154.75,"impressions":26008,"clicks":588,"ctr":2.260843,"cpc":0.26318,"reach":17542,"leads":0,"video_views":3107,"status":"Active"},{"name":"OPN_Vday Graphic_1","id":"120238418295470408","spend":116.46,"impressions":23055,"clicks":486,"ctr":2.108003,"cpc":0.23963,"reach":14603,"leads":0,"video_views":1892,"status":"Active"},{"name":"OPN_Brazil Brothers_Wed_Feb","id":"120238947059620408","spend":86.07,"impressions":13902,"clicks":364,"ctr":2.618328,"cpc":0.236456,"reach":9473,"leads":0,"video_views":9,"status":"Active"},{"name":"OPN_Dinner Focus_Feb 23","id":"120239060302450408","spend":27.09,"impressions":3514,"clicks":198,"ctr":5.634604,"cpc":0.136818,"reach":3063,"leads":0,"video_views":1234,"status":"Active"}]},"act_1423348345499145":{"7":[{"name":"Leads_Boutique_Owners_Leads","id":"120233983479590732","spend":171.29,"impressions":4035,"clicks":96,"ctr":2.379182,"cpc":1.784271,"reach":2261,"leads":10,"video_views":676,"status":"Active"},{"name":"OPN_Top Funnel_Leads_Boutique_Owners_Leads_Jan 2026","id":"120241916435890732","spend":99.41,"impressions":1915,"clicks":37,"ctr":1.932115,"cpc":2.686757,"reach":1184,"leads":5,"video_views":383,"status":"Active"},{"name":"OPN_Orli_30 second_typeform","id":"120238004342290732","spend":73.54,"impressions":2765,"clicks":60,"ctr":2.169982,"cpc":1.225667,"reach":2212,"leads":0,"video_views":412,"status":"Active"},{"name":"OPN_Orli_30 second_leadform_lookalike","id":"120237973663580732","spend":66.8,"impressions":964,"clicks":20,"ctr":2.074689,"cpc":3.34,"reach":746,"leads":0,"video_views":281,"status":"Active"}],"14":[{"name":"Leads_Boutique_Owners_Leads","id":"120233983479590732","spend":339.45,"impressions":11419,"clicks":252,"ctr":2.206848,"cpc":1.347024,"reach":6355,"leads":31,"video_views":1601,"status":"Active"},{"name":"OPN_Top Funnel_Leads_Boutique_Owners_Leads_Jan 2026","id":"120241916435890732","spend":205.56,"impressions":4377,"clicks":81,"ctr":1.850583,"cpc":2.537778,"reach":2387,"leads":11,"video_views":861,"status":"Active"},{"name":"OPN_Orli_30 second_typeform","id":"120238004342290732","spend":153.81,"impressions":5696,"clicks":94,"ctr":1.650281,"cpc":1.636277,"reach":4328,"leads":0,"video_views":895,"status":"Active"},{"name":"OPN_Orli_30 second_leadform_lookalike","id":"120237973663580732","spend":136.46,"impressions":2230,"clicks":55,"ctr":2.466368,"cpc":2.481091,"reach":1416,"leads":4,"video_views":590,"status":"Active"}],"30":[{"name":"Leads_Boutique_Owners_Leads","id":"120233983479590732","spend":525.36,"impressions":17534,"clicks":367,"ctr":2.093076,"cpc":1.431499,"reach":9696,"leads":44,"video_views":2382,"status":"Active"},{"name":"OPN_Orli_30 second_typeform","id":"120238004342290732","spend":328.06,"impressions":12889,"clicks":191,"ctr":1.481884,"cpc":1.717592,"reach":9872,"leads":0,"video_views":2079,"status":"Active"},{"name":"OPN_Top Funnel_Leads_Boutique_Owners_Leads_Jan 2026","id":"120241916435890732","spend":300.86,"impressions":5996,"clicks":118,"ctr":1.967979,"cpc":2.549661,"reach":3323,"leads":16,"video_views":1245,"status":"Active"},{"name":"OPN_Orli_30 second_leadform_lookalike","id":"120237973663580732","spend":298.15,"impressions":5103,"clicks":132,"ctr":2.586714,"cpc":2.258712,"reach":2317,"leads":8,"video_views":1313,"status":"Active"},{"name":"OPN_IV_Top 3_Leads_Lookalike","id":"120241699280950732","spend":236.78,"impressions":1992,"clicks":59,"ctr":2.961847,"cpc":4.01322,"reach":1331,"leads":6,"video_views":552,"status":"Active"}]}};
const AGG_KPI = {"7":{"spend":1236.7,"impressions":182738,"clicks":5700,"reach":137675,"leads":15,"video_views":20875,"ctr":3.12,"cpc":0.22},"30":{"spend":5807.009999999999,"impressions":1111869,"clicks":29971,"reach":628277,"leads":74,"video_views":150908,"ctr":2.7,"cpc":0.19}};
const PERIOD_LABELS = {"7":"2026-02-18 - 2026-02-24","14":"2026-02-11 - 2026-02-24","30":"2026-01-26 - 2026-02-24"};

let currentRange = 7;
let currentAcct = 'all';
let spendChart, impClickChart;

function fmt(n){return n.toLocaleString('en-US')}

function setRange(r) {
  if (r === currentRange) return;
  currentRange = r;
  document.querySelectorAll('.date-pill').forEach(p => {
    p.classList.toggle('active', parseInt(p.textContent) === r);
  });
  const dc = document.getElementById('dataContainer');
  dc.classList.add('switching');
  setTimeout(() => { render(); dc.classList.remove('switching'); }, 250);
}

function setAcct(a) {
  if (a === currentAcct) return;
  currentAcct = a;
  document.querySelectorAll('.acct-tab').forEach(t => {
    const ta = t.getAttribute('onclick').match(/'([^']+)'/)[1];
    t.classList.toggle('active', ta === a);
  });
  const dc = document.getElementById('dataContainer');
  dc.classList.add('switching');
  setTimeout(() => { render(); dc.classList.remove('switching'); }, 250);
}

function render() {
  const r = currentRange;
  const a = currentAcct;
  document.getElementById('periodBadge').textContent = PERIOD_LABELS[r] || '';
  let k;
  if (a === 'all') { k = AGG_KPI[r]; }
  else { k = KPI_BY_ACCT[a] && KPI_BY_ACCT[a][r] || {spend:'$0',impressions:'0',reach:'0',clicks:'0',ctr:'0.00%',cpc:'$0.00'}; }
  const kpis = [{label:'Total Spend',value:k.spend},{label:'Impressions',value:k.impressions},{label:'Reach',value:k.reach},{label:'Clicks',value:k.clicks},{label:'CTR',value:k.ctr},{label:'CPC',value:k.cpc}];
  document.getElementById('kpiRow').innerHTML = kpis.map(x => '<div class="kpi-card"><div class="kpi-label">'+x.label+'</div><div class="kpi-value">'+x.value+'</div></div>').join('');
  let camps = [];
  if (a === 'all') { for (const ac of ACCT_CONFIGS) { (CAMPS_BY_ACCT[ac.short]||[]).forEach(c => camps.push(Object.assign({},c,{acct:ac.short,color:ac.color}))); } }
  else { const ac = ACCT_CONFIGS.find(x=>x.short===a); (CAMPS_BY_ACCT[a]||[]).forEach(c => camps.push(Object.assign({},c,{acct:a,color:ac?ac.color:'#6366f1'}))); }
  camps.sort((x,y)=>parseFloat(y.spend.replace(/[$,]/g,''))-parseFloat(x.spend.replace(/[$,]/g,'')));
  document.getElementById('campaignBody').innerHTML = camps.map(c => '<tr><td style="font-weight:600">'+c.name+'</td><td><span class="acct-color-dot" style="background:'+c.color+'"></span>'+c.acct+'</td><td>'+c.spend+'</td><td>'+c.imp+'</td><td>'+c.clicks+'</td><td>'+c.ctr+'</td><td>'+c.cpc+'</td></tr>').join('');
  if(spendChart) spendChart.destroy();
  if(impClickChart) impClickChart.destroy();
  const gridColor = 'rgba(255,255,255,0.06)';
  const tickColor = '#a1a1aa';
  if (a === 'all') {
    const refDaily = DAILY_BY_ACCT[ACCT_CONFIGS[0].short] || [];
    const sliced = refDaily.slice(-r);
    const labels = sliced.map(d=>d.d);
    const spendDatasets = ACCT_CONFIGS.map(ac => { const daily = DAILY_BY_ACCT[ac.short] || []; const s = daily.slice(-r); return {label:ac.short, data:s.map(d=>d.spend), backgroundColor:ac.color+'bb', borderRadius:2, borderSkipped:false}; });
    spendChart = new Chart(document.getElementById('spendChart'), {type:'bar',data:{labels, datasets:spendDatasets},options:{responsive:true,maintainAspectRatio:false,plugins:{legend:{labels:{color:tickColor}}},scales:{x:{stacked:true,ticks:{color:tickColor,font:{size:10},maxRotation:45},grid:{display:false}},y:{stacked:true,ticks:{color:tickColor,callback:v=>'$'+v},grid:{color:gridColor}}}}});
    const impDatasets = ACCT_CONFIGS.map(ac => { const daily = DAILY_BY_ACCT[ac.short] || []; const s = daily.slice(-r); return {label:ac.short, data:s.map(d=>d.imp), borderColor:ac.color, backgroundColor:ac.color+'22', fill:false, tension:.3, pointRadius:1}; });
    impClickChart = new Chart(document.getElementById('impClickChart'), {type:'line',data:{labels, datasets:impDatasets},options:{responsive:true,maintainAspectRatio:false,interaction:{mode:'index',intersect:false},plugins:{legend:{labels:{color:tickColor}}},scales:{x:{ticks:{color:tickColor,font:{size:10},maxRotation:45},grid:{display:false}},y:{ticks:{color:tickColor,callback:v=>fmt(v)},grid:{color:gridColor}}}}});
  } else {
    const daily = DAILY_BY_ACCT[a] || [];
    const sliced = daily.slice(-r);
    const labels = sliced.map(d=>d.d);
    const ac = ACCT_CONFIGS.find(x=>x.short===a);
    const col = ac?ac.color:'#6366f1';
    spendChart = new Chart(document.getElementById('spendChart'), {type:'bar',data:{labels, datasets:[{label:'Spend ($)',data:sliced.map(d=>d.spend),backgroundColor:col+'bb',borderRadius:4,borderSkipped:false}]},options:{responsive:true,maintainAspectRatio:false,plugins:{legend:{display:false}},scales:{x:{ticks:{color:tickColor,font:{size:10},maxRotation:45},grid:{display:false}},y:{ticks:{color:tickColor,callback:v=>'$'+v},grid:{color:gridColor}}}}});
    impClickChart = new Chart(document.getElementById('impClickChart'), {type:'line',data:{labels, datasets:[{label:'Impressions',data:sliced.map(d=>d.imp),borderColor:col,backgroundColor:col+'22',fill:true,tension:.3,yAxisID:'y',pointRadius:1},{label:'Clicks',data:sliced.map(d=>d.clicks),borderColor:'#22c55e',backgroundColor:'rgba(34,197,94,0.1)',fill:true,tension:.3,yAxisID:'y1',pointRadius:1}]},options:{responsive:true,maintainAspectRatio:false,interaction:{mode:'index',intersect:false},plugins:{legend:{labels:{color:tickColor}}},scales:{x:{ticks:{color:tickColor,font:{size:10},maxRotation:45},grid:{display:false}},y:{type:'linear',position:'left',ticks:{color:col,callback:v=>fmt(v)},grid:{color:gridColor},title:{display:true,text:'Impressions',color:col}},y1:{type:'linear',position:'right',ticks:{color:'#22c55e'},grid:{drawOnChartArea:false},title:{display:true,text:'Clicks',color:'#22c55e'}}}}});
  }
}
render();

</script>
</body>
</html>